#!/usr/bin/env bash
echo "== send"

root_path=$(realpath .)
message_attributes_path="file://${root_path}/message-attributes.json"

QUEUE_URL="https://sqs.ca-central-1.amazonaws.com/354918366000/sqs-standard-queue-MyQueue-1Y0fzRpLWz8n"

aws sqs send-message \
  --queue-url "$QUEUE_URL" \
  --message-body "Hello World!" \
  --delay-seconds 0 \
  --message-attributes "$message_attributes_path"

aws sqs send-message \
  --queue-url "$QUEUE_URL" \
  --message-body "Hello 1!" \
  --delay-seconds 1 \
  --message-attributes "$message_attributes_path"

  aws sqs send-message \
  --queue-url "$QUEUE_URL" \
  --message-body "Hello 2!" \
  --delay-seconds 2 \
  --message-attributes "$message_attributes_path"

  aws sqs send-message \
  --queue-url "$QUEUE_URL" \
  --message-body "Hello 3!" \
  --delay-seconds 3 \
  --message-attributes "$message_attributes_path"

  aws sqs send-message \
  --queue-url "$QUEUE_URL" \
  --message-body "Hello 4!" \
  --delay-seconds 4 \
  --message-attributes "$message_attributes_path"